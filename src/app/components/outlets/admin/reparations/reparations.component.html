<div class="content">
    <div class="outletHeading">
        <h3>{{ 'titles.reparations' | translate }}</h3>
    </div>
    <div class="filters-card">
        <div>
            <span class="text">{{ 'general.city' | translate }}</span>
            <mat-form-field appearance="fill">
                <mat-label>{{ 'general.city' | translate }}</mat-label>
                <mat-select [(value)]="currentCity" (selectionChange)="changeCurrentCity($event.value)">
                    <mat-option *ngFor="let city of ( cities | async)" [value]="city"> {{ city.name }} </mat-option>
                </mat-select>
            </mat-form-field>
        </div>
        <div>
            <span class="text">{{ 'general.date' | translate }}</span>
            <mat-form-field appearance="fill">
                <mat-label>{{ 'titles.select_date' | translate }}</mat-label>
                <input matInput [matDatepicker]="picker" [value]="dateFilter" (dateInput)="onDateChange($event)"
                    (dateChange)="onDateChange($event)">
                <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                <mat-datepicker #picker></mat-datepicker>
            </mat-form-field>
        </div>
    </div>
    <div class="map-content">
        <div class="prev-next">
            <button type="button" class="btn btn-warning" [disabled]="( markersPlaced.value  < 2 )"
                (click)="resetLastReparation()"> Reset </button>
            <button type="button" class="btn btn-warning" [disabled]="( markersPlaced.value  < 2 )"
                (click)="postNewReparation()"> {{ 'general.save' | translate }} </button>
        </div>
        <!-- TODO: Agregar tooltips para los reparations -->
        <p-gmap #gmap (onMapReady)="setMap($event)" (onOverlayClick)="overlayClicked($event)" [overlays]="overlays"
            (onMapClick)="handleMapClick($event)"
            [style]="{'width':'100%','height':'240px', 'border': '1px solid var(--lightGray2)'}">
        </p-gmap>
    </div>
</div>
