
<h1 class="bigTitle">Mis Trayectos</h1>

<!-- FILA: DROPDOWN CIUDAD-->
<div class="dropdown-row">
    <span>Por favor, escoja una ciudad</span>
    <p-dropdown [options]="( cities | async)" [(ngModel)]="currentCity" (onChange)="changeCurrentCity($event.value)" optionLabel="name"></p-dropdown>
</div>

<div class="filters-row">
    <p-calendar [(ngModel)]="filterDates" selectionMode="range" [readonlyInput]="true" [showIcon]="true"></p-calendar>
    <span># de tracks: {{ paginationLimit }}</span>
    <p-slider [(ngModel)]="paginationLimit" [min]="1" [max]="10" [step]="1"></p-slider>
</div>

<div class="mb-2">
    <button type="button" class="btn btn-danger pull-right" (click)="fetchUserTracks()">Buscar</button>
</div>

<div class="map-content">
    <div> <!--COLUMNA 2-->
        <p-gmap #gmap (onMapReady)="setMap($event)" [overlays]="( currentTrack | async )" [style]="{'width':'100%','height':'240px'}">
        </p-gmap>
    </div>
    <!-- TODO: color widgets! -->
</div>
<div class="prev-next">
    <button type="button" class="btn btn-warning" [disabled]="( getTrackIndex() === 0 )" (click)="changeTrackIndex(-1)">Anterior</button>
    <button type="button" class="btn btn-warning" [disabled]="( getTrackIndex() === (paginationLimit - 1) )" (click)="changeTrackIndex(1)">Siguiente</button>
</div>
